package org.isp.applications.training_details.parser;

import org.springframework.stereotype.Component;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;

@Component
public class HTTPRequestSender {
    private final static String softuniAdminCookie ="_ga=GA1.2.410792054.1532267453; cb-gdpr-enabled=accepted; .auth.softuni=8dR1EWypiH1r1AOWr6t5LBl8onvIkQJ08XZ-3KHMFWzJrmmXLGc4M05eVx9DbgyAab9laXjEuKeE1ZLhEV0F3CxEwvbVyGwbm7uInGBcajIJ6sZUfi-mEdcEVGkhCeLy2gJOPIIwx26xnpZSZ6w5s7jgEhmZjZAmvU1IvKpNN3zOhSJicVWs0fesycovYXzJtUctK2o54AS9IM99zGJx2Hulh5W9HPRpf9M8QUlMjhUCbUXw4ic0FMtTKETHWM6y4hPYzoE4imUv2NWXkjjC2M_Yq9enX4uKhyxb-D8IxNU2j8fo1mUXHXZ9bbPNKIgAtefGgHpOYfEqJ0Wm5lPN_NMtGO7neBKpkF5eRRtgME3dERYsiEct2tqufrTfnZTtgd8_daku4krCFtcck5UKQnfPu9vQzeRUgyj_V227ymWrNo-VsL97hcHPnK3r55FGuBUPkdjoGu1JZM-bhcCLsM1OYRVwU5rccUpEEjPbCOXNtK8buBUu1YpXyCTII8SE_hc31bEga_ZGI6Qpdqw_C3ce2dso3TrCaxhA7rIRWsmgDAuyP-n79FtuIgr2kYef-nmAQK91Wm2EEj_eTT9PR4DVO7vY-8KsrfMGwb9kC54EsMZLpZ0JlYVDAwioJRf7rKL2fgABQqLjqGMRVxQgm0CnMkngrarOmhOz6du75i2G82rjys3yxf-Zl6K1rcgtsQQXuJsxVytTDTzB30DAyuhkNZH9KtxNLIOxsr1h5NQUsBShkwSMA9arT0TdqOQVsbSAz5HuVSFuVS_ri_ID2bKJjB7PLi9jLZoV_CzE1gG8_IFRTJKPUaihh2U89ohITPc80MyYYcZaccEywbXK7N9_9Qgf4km9xWSvzK3pKwy25HEBXSHHasHtjHNZQDLAnVRJiRDLx-W1QpwXkELAVDgm1H0qKmD-rbueiHGSQ17Rvc4piaz9iovlLI48ThpDYUcg4431pJ4F8rLIk-kvxedeI6QB1QWW2DaU0GYNaEZOOUvBubwDyKsf-a7VQxI6Te95PliHxTmjJmzj4TtjTUDehxJYQPpuT7wMp9Q9VOzb1sCMfe4JNB5V65LMBAQBsC3AWl6yj7hFcUGQmTU9cNOm2jgjrqkzUcfcP6cMYjdc1Qb_utYONnMIO4K0FW527o1Ks-1IOFPtf2gIUK5CiSGrLQHxt-z2Kj8o_Kr8jlJD_rck7MxI7xmNgNErkqH6WcBubLK-JGaZ9WUToMDUQozPWXIl0tqCKbNATKYPJ31SGi83a-t2Rcmof-kaAHL72BPShYCzW9_TErGk-PscIaD_0QRVtvQK3msh53KSuN0aVFq5IjdAnGY1fIJOJ0s5b_qhRF5SrAywI9HdbV2CvhIBMDdJ_eYDPjvz_MX8o0DO2UG4a6vCTJqmYDxsm1UvWK5Vgxkk71X6o1sonzV-o_30gBX3fHPqQ_p8Lrak32JaLeaoRaHvodH3YxpjL7DJ1qLIOUBsy8KTzIDGRFWkSHYepOXGqepxQosn1Iw0MLWgMMFkagrifwi5Q9w4MwIABuCbmDHrRaz-qSCJAYrGpBuoZogRHs2MWBrz1s03MwJsCQ_OeuCJjpLsNeFRrQXiCW9JSGjiYm0dK1boJNksLxO6Fo4tIWqcigVnYlPseBVC9WNCiWOHi5Ivg3_CIupV3wAUiP3Q-w-O75MtaHWrbSwhggWkytmIi88TpH0CtRBd0QcFpvNP3jPGi1MGv5onO5rspRzcds-NEUey7rmxWCtjOMXR-8ok4L-s5HckdD-1LqiQ-3OZXrYxqtN7LuHxyRKjr-LW9ZHbguuPmdUdYfkAVRZu9QFZjGuYmYTKPfLQf8gH5_55SeV1rh5clctg0nkA_HO7KGnJiFefoKXHbgrcrHCj1SDQvWnhWdWF7uRIDNYPxqWHrXfCJO53P-xbQZ4Ck3G22OUQ6kWrp5sgIPW6lPQN2G70DwJcY99IdbUr-8wP03147lVntuesO4Wopf0zWEy6a-NvwqhazXMSMrZ8xlL_hcNrCKrg78hf9BZTwZG-FAEXfJ3IuxXp48Si4jSpBFf3fGoafY5DvGQUYl40MeBDXS18PXX-PeMlz8COCWLdfeGPKsB5LBPusoj4xzmaPXQiT8n3mHm1BUUZwBwd8d-WSVBTBAbKtxJzHTfEBdZKIa9_Gp-o2muE5YAlZUtTatl4qDVw2RJTq5orkepqLlbsopb2tL6XpwZPMuDf_X_-fw5bpDeCcbbX0Q_X__GRGx-MYYwsGmGQ4xNa5EXeaxuZNksj3OyNxdfMmTyglFeVR7mZBPP8WX2oOxY4QVdBdct6eNhO5nLy4GIOy8nntvrz0CoSDHZwpL1GZq_y-aF8yzY2qWCs53SsN7uEezxfWT3qsIDPYdD82BCgMG5HK8dka4N-TIRyx_M3NQV3lt6Xim9m5bxpd-M5TDPB2kH2g0flRDUtDETpw03D_a6iI-5H0IuIoyBzGGDDohCJV73silzJkj4ej8MN30glbjsePn0Qc12ub9ToJBIPHJ8ekKcqgA1zyB_88pcQpfzpbNS1-xF6lQGf4pRuQo4S8cZwR4vhpr43iX_a2wkl5iaqD8lKMBy4XMC9O043wg1Waf1oXsHUYf_0v697G6yIo2-pWZ8Q9cmZbC9gN9bjdJWQHJYb7zR3YHoV17Lpp4aVYlm9dhB-WUnImAHIQNEHNVI1cQ; _gid=GA1.2.377302901.1534836898; ASP.NET_SessionId=0fpfutk0hhskvj15drh33h14; language=bg; __RequestVerificationToken=HnRJ8cEVL6q0Y9kXwymCFb1BtFf7BoPw9PkiEFBXFDSsdzXAp-Owj7dEyEB6itUaV0hARa1k4OTjQddtjjqBmJpiHUY1; OpenIdConnect.nonce.rRjAiib4xAFQMqBdDYnaBhUnLKePcm1dTQ1Lrpk49MM%3D=cmpub09ScWRrbElISUk5U0lua3hsWXdPQURrTGRGX1BpN2F3T2g5Q0pBYkR4YzdXc3RYZjJ4eXNHVzNQb3lraEF5U3JhZXF0Zm1YZmZrNmFRX3lRSFpjMVN3dUxlM0hTMy1zR25EaWxYNjktYlAzM2ZveFFPVC1FQ0I1dm5XTTEzSEpzQ2VycVNXZTI2amlZT1lMMGl6WWRsRUpBdTBPY3Q5WUVIdVQzODB1M2p1VDBVbDRJN1ZGekZRbG16elJCRXBlMjFJcng0VTlwUWJUalBURko1TVpobjhF; _gat=1";

    public static String sendRequest(String urlString) throws IOException {
        URL url = new URL(urlString);
        HttpURLConnection conn = (HttpURLConnection) url.openConnection();
        conn.setRequestMethod("GET");
        conn.setRequestProperty("Cookie", softuniAdminCookie);

        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(conn.getInputStream()));
        StringBuffer response = new StringBuffer();

        String line;
        while ((line = bufferedReader.readLine()) != null) {
            response.append(line);
        }
        bufferedReader.close();
        return response.toString();
    }
}
