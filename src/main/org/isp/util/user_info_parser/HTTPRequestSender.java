package org.isp.util.user_info_parser;

import org.springframework.stereotype.Component;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;

@Component
public class HTTPRequestSender {
    private final static String softuniAdminCookie = "_ga=GA1.2.410792054.1532267453; cb-gdpr-enabled=accepted; _gid=GA1.2.1646110208.1535901870; ASP.NET_SessionId=iwvuurs00hln5v5ozdtc50ew; __RequestVerificationToken=p3_KrsvPhjXAKj-mu8zv2mpYmczMv7WN3lJvV0KHRRZF4cjkN9Xw9DdFiVP2my_PME6EpUwcpAtRrW3n7FI6dlXLGNY1; .auth.softuni=bJUisaNDfwPOskG_emmPp4374HP8u1ziJ9GlaybsFA9uoG7VGGNmI-k-67L0sqveRxnI1bqXVjxJD4EmADEMYdMsvasGPluJDgOfIFhxYHuvyRPUX5zbnFVHfLN5OKa3-5S9DHsIRpCn5Bww-qNKKyNBDKypyMwlSWfnwbAaVC8RSmrGWNSvTCNhMOMM8Yc3-OTjQgitfol2Gba2TbWgSfywOUH8Yq3JeVtisPYO6389obvGpO5F_bgo9MOXrj_FQD1vKZIUbOG2wH6_nMw4DOJMVkhQU0f_XkpGpKVgniQwMplwgyCwL67oN8hcJwVc7K-bvMJChdWF6YUvnOgBkHj494zNTbIm_93IsPxGwXiTeqLdk4_DzX6ZdYg3N7j9tXDsnipjGc9KZFhlblDXYan7IXRVkstLOF0HcedcSMqcN8-OeMzUFz-4oYMAxBQMnu9jtD9T5nKdR1jTBum1Y4nmsg_knnUF7t-YSJ5hdf0qESSmy4PHzEsX0uO2gUloUVmoF6ZmPMtic5G3Z6f2agZMRU8p_V79NMBXRmAkD53Gkt-JW9G6tKY3fZ7f4wUeu-lsTTyIUvHiEyDFjNeVfP77-HWVCKZzBrDxhjNZjwKzqGiQm3QdeNP4uF1q6iSnmjMWJUR8VMo4JDp63U31iAKbTh0aGFfIMVQCkqt1e2qNRkPTq8fMjtAKQHl0DZYoWaZuf7QVE7q-H1xiK8ye8LmFvCDmZReoxxFXRc48DZ4-6lm5M-F19-RkhrxiXEJA5pARbkFdkqzWtIB3mXrMvelFFxjPm4StbjGOe7hy_ASbZmPA31Z6eCiHdsVrDFN0tVyllcq9zzfNOVwMx9QmhEI5MJ7sK_F6XbBOAeFtWAWQN3Okp_HzA-IccOeUqJfKwRRdHw6P48n9ixDV3nMlmeGnxxsEO0hLo8xGcpzZxCVXYeiT2x31PHlI0GU95h1br2kWQ2aMOvRa0bcwU-Wq68IQInej0M8JKWcgrDvkZRdb4Bg_4xK357uciuMBJhohLwrGc7H5BTUyAdNa-2ODeVWO3GRgEWiRWzQ3FwtO9MC2DhxJM0EnnIKP3JV5onu2usJEKbW5IeG0IzKfAU_Faa5vbE1SL70wm8tfo56Fu_jNXF9M9ftlOCvjqI_kxJr1uE5eY5CcwzRJ9HdcDYo8ZvYAEr4PcqR5bFwUV6N1p8hxyIwgAvZ6uxaMIM42CoPuegXLxQzEyJl8l9L4_jUV92A929dxXsE8uS1e1PxPjqmP2msNU-OtVmWKQsv50ottXW2lRGIz_VtZEjdqdmZHYeqX8WuXxWgrRNMDu7TT_XIpcmR4S8cmeSq6H_ouUfNbzBgEiQNL9YdBBgXQe2ggLvg9saevCK15Ce9zb5Rf8NPfJxPPcQlAg0PdmLcac_Bb6cozUSlWrjMr3zId9lV5qxP4MQoD67seLWxHzpAYYvmGoNyfaHMyKxgRl4NpnrK9HCaeTm9J0x7Fc95aUZ54DVJNp4bXV3JZKupr6e_FYxqcScFAKuL-bdWA-bajcrkYphACGth7RLsL8xl4-y286IcUHCs9xJ2D77KPAUL69sy3LMRSYD4B0mkThPNziHfB8WOPeuXQZbxZoXzAo5NpVf9lrQFaxyNJ8vukDy1lbRjtgmB8EiXTrqZsAdwZAARV9U51avXxWG062TZo2QJBwlLLzq13GwuoAAIv07r3YaqyUCWNK3Kzmsz2WrELNLT-VSlrZ9j5uyjP4HuZjmXPBAteTIhdpe9m8HBP9DaLa8Ls9HPZPHywa1GllPGAhWV2r7tX1sOm0WED7HdlzEPcAQThImVOEFR863ebQpYkfEEHe2uq8ZviL6hA_p99kfuR9JgegF13ATx9DkpX3ohQ5i9a63YnedzmxSXzsV-B-3g6dbIqLWb14mJkRwR5J1u2tj9v4nE5VxGSZcMlT8Nqifqk-AU7eF8XF6bfBELBOhVCBa1TAVSWzu7Xv3ioTC-fucSHHpCqFo-4qeszoGr23bxF9oOwXTOUmoWM0MFDoeynsxos5ZQg3y2W359hhKaDB8izVgMEbP9u2mLMqPYMDsaUJ84FOW7uoU6YGwIWOzS_-GaeFK-FNf4KWmHe2r7fSWpkyDKT1_1Od_NsRvNBmXBnLXWzG89MSsqkkRd4-pZPnjKXdr4KkhUUYCOo_nZ__WSXIELRo4MJcqWQqGHBDQ7ssBweQdJuLwXo7A1R5AicQMZYZYMklsvyqJJ034lIjDVcLRnGggI6MQ2qd9wV-w2pQP-GUxDYPFDsOviXlQcZ8XRu6YONN4Zj-Sy5fSJPFL45B0yzpBuc4FEYuXzTyjauqM1ZbKdFqgco7a6jRVnl4lZLTcngynxMl_BRZr56RjJpduzY8VDjqihFE2zYfzqozFQd-UjW6XsRfGVTM45T8e4u66eVl8clcbAGBJUBG1bmw6XLZorKZn3W0MLl6jMKY5BL9fh_Mn8IPx2LkA5SA3HRo-bKNCrhWlPVcIuw9YsehkIQ_BjClpYcL57fw503g4RZDtDwU0UnJYw-n9OgeTwy8CyI1VGk9GTC2EhOYhSf-SQt9-ne4zVi-71IYQRFcsgjSpltSw77G1qlSLJADM1nBlcnMH6r1GhuBD9aNkmpI27Na5d47AJyOZs6meL9z4tr8AMU1XmISMgj3hHOEfqQ; hide-soft-unit-section=true; language=bg; _gat=1";

    static String sendRequest(String urlString) throws IOException {
        URL url = new URL(urlString);
        HttpURLConnection conn = (HttpURLConnection) url.openConnection();
        conn.setRequestMethod("GET");
        conn.setRequestProperty("Cookie", softuniAdminCookie);

        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(conn.getInputStream()));
        StringBuffer response = new StringBuffer();

        String line;
        while ((line = bufferedReader.readLine()) != null) {
            response.append(line);
        }
        bufferedReader.close();
        return response.toString();
    }
}
