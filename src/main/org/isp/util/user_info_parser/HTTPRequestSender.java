package org.isp.util.user_info_parser;

import org.springframework.stereotype.Component;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;

@Component
public class HTTPRequestSender {
    private final static String softuniAdminCookie = "ga=GA1.2.410792054.1532267453; cb-gdpr-enabled=accepted; _gid=GA1.2.1646110208.1535901870; ASP.NET_SessionId=iwvuurs00hln5v5ozdtc50ew; language=bg; __RequestVerificationToken=p3_KrsvPhjXAKj-mu8zv2mpYmczMv7WN3lJvV0KHRRZF4cjkN9Xw9DdFiVP2my_PME6EpUwcpAtRrW3n7FI6dlXLGNY1; hide-soft-unit-section=true; .auth.softuni=-JdWeaRzH5bIGgIGwI4GEuaGIWyxam9rG8KuvLxJG7ZWCBI3lagVTafdm6GMGer0QGDZVdbB0fEnaKX-y_wMiPZojlueKg-HHiwFwSNntQhT_6m5YuFscy4AatO_86m8ip-Meg8CIYF7Hn5XVWE7NWNBcojMQKbuk4NVX3OxUkgL4fxXBj25SATEuWRgST5kNMvgS5apkym2h0Yf92jVXyTM1XWXrqa6Yb7NuNp5HTbCbC-d6rQDjneopR9sxQpZ8ewGY3j1JpRUGbGvbCP-TFf5ULtM-9OrGvr7r_iVi8YsMJBYsRmKt58jEqpDhtyelo9btl8IVyU37JXA2ZgwQQPYthFuN4y2wAAJ31E9o4Uk5E9NSRoVcRsUKjNan3R4ylRJN25jYusFfiWwCB7I6GwDo8TNe6FN3AKqR6ciiXWqXeJ4Y7LDiDOZs4z7Ng7XUN_-vyg6b02AIJagNLmmmrMI3lTtEWQhHBDzIgJ43bvGl0A8Sf1iobtwFF6CxghWd-Bk9XWxBxzTQN3XOINk47NWtS_XMV-U0gbjIbna1g-1Iwvf4Ih21W-vJKH4__Qv7bNo_I1Ee3rJru7iY512b_jgk_XABh6JOozWqGxSvI5wNvLW3zdm3vt35Ywm36R66QqZ9txnm0FGwglB9hu04RVPDcIuCjsM9eBHRBwlwTTdBavtnqS5-dED4dZq3AzvtnCe82Cw4flEnrBymWMHayTxywpM6WWyhE59kHsTzN2-FUM2NvL0BHWOFEirdNlqYH6vraaPfp_lkJe7-gGr2OgiGrrObN42sSt87FS7IQxqWoax4v69ZZdBsLc31ag2cupYEbzL2U2vbC_7iRRiRrJOtRCfpLlouYP8vld6Sx0IZGZ9mK2H2TBJdv_J4eBYl9lSeNBtaBjMFR3tL0O7MgZtmcmgit7Kq0Tq91VcC82Dun0QeeorqZrtpoJkxdavxD0VLu5LTuu97SlHHc0YYqsellOuSEer3qjV8kLNkBKb_mcG3ve1nEKyJr7RUtutgrew9x8l7ga9merRSgbeObDdgotONNAzQpxdT6Pg78uljLFbbxVNuHv-JJSfdiMNNi1vHZiChim_5E9C7cQGEWNtjfX_9OMufHPhvU1K4i7pTFHX_xVwB36IdcnkNx3zV30XBz830gNCUquwWvPV2bO3-QR0H8cdvXTdt85MUOvsvpPTuLcht7TQWhGQ0uitzFEWc41W2zSJRcXLbfTvNw2yMy9PjlKl0Cmay-3PYgdFDLC3Ryjz5uGOHxbmtLAhuApS7pYSlfKM85cdyvtkQ_gWv_oLVPIw5lV8qJ7WuspNnRAN2PhzBcpl6rih0RPiBOqGL7bPc7qxlq5I6dLrMijifpkq6slSNSIk6bVy-S2nGrUNKphDdYiQiDsTDeBeo6CWNRMQM6_kfYGxrLop7bpTAw-EJsZoza_9-3LAjUoC3mRpV5oXIAHEck6vdkDO8srL4N2-hl6NoI2z2HNKoIokcOYE2kh-XkyozPzcFfDJhN3zcOR2BWiU2mTvMcivn9hJYjjVv4n1MPUdbgpMNwEnyu7H7MIjP6ECHxGOtSpCMFwGqJnAPbm5ONn1IXwCWKQNzF1A6bJfUxULb4J3d7wEyNyILUAvsZPQKqX8Oh6IOzLNij_FSwFmevexmS-Xqe3JBQina7jJqW-FGOeC0PQh9SNp1FQvNcrMInE6boieITcbHbhpcVjUH9GIeluvmlfwZwdtTA4ZaGygaWyVQp7Nx8KeO-4WhH0Iy9_-ABijieapROsvcJ3EFRH7CcjQ8ZeOxFZU59zTqLFYhhXtCFDklotCrBJf6y9kHNIf0M9zrBIWAkrkaWTRcr-6msZQjXLX7PDxVPdySZRbf8F94H6mXl1mlxuRMh8ipx8MsCpm8Cxw6l61dyq1KK2MINMiFwRWUyzWNQmjCSojGn9_xqwmwHrvN-_l41hNox8zTVSffQVT-kALLHbNpX6p6Bht4QQ44iQtCrKfnDsBmhxOuisvnDbrgJpZHR5cH6OnxXsGD3SDJ7OYlEXYUQCvjzUAo8IoXwys0jDm0Khpa7_d3_tKZIwlAeaothUF1SdM5iFzMTNDMvGgdOS2sl0W5iISD-CKqvpzt-apVv1HuEJmumUp4VqmmHPPlxtMWlS6fr0258zo0Ftk2asj8DGVnHteP2f0L-pkrgd3RM8VoP3k3CmDbsOYB0pJRg0BnMHr4ydqFwOWAjGjvqAo_xX33ZfOjifUVwguHLe7qvXrpH0hQaok_I8guycGwRN2pn0iuRZKtWEsvCS1HkUoSLXOIIBuADf1U8xe2Zp2Rnm1o8Bi0qcIylPj6V9N-hol0POxXjdlaXNCqmfTMU02RyMrmxaWKgKdBh40ucgni46mzQB64qfAsekdUs6BwSqpz7ofcEemCGoVu-To8le51ofFmHhkTWLiSAMjFe3GY5zHRs3qd84hLG4HUXkjYeKs30psfdXwy5JnzWwSCwH_CIZRVuHHedLLNnT6Fwa5JT1r2l49T8lBiOWVpDSoBkgyzQDi5pPgL2oCGot77WyWNqvA_HoYZurYPcMV-jJuxDK0cyCCsYSkub9Q4OjvkjXU36Eojvlwqen28ihi9Yy7FquNJCahavohILGw3CDQPdwHZGzvVhG7aXPLuGE9DIAp0l5I0QqvlnYKQLb1cQ5N24rQHOyxxFWbCg; _gat=1";

    static String sendRequest(String urlString) throws IOException {
        URL url = new URL(urlString);
        HttpURLConnection conn = (HttpURLConnection) url.openConnection();
        conn.setRequestMethod("GET");
        conn.setRequestProperty("Cookie", softuniAdminCookie);

        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(conn.getInputStream()));
        StringBuffer response = new StringBuffer();

        String line;
        while ((line = bufferedReader.readLine()) != null) {
            response.append(line);
        }
        bufferedReader.close();
        return response.toString();
    }
}
