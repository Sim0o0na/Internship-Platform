package org.isp.util.user_info_parser;

import org.springframework.stereotype.Component;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;

@Component
public class HTTPRequestSender {
    private final static String softuniAdminCookie = "_ga=GA1.2.410792054.1532267453; cb-gdpr-enabled=accepted; .auth.softuni=2C7YvtBPCBFg4KO9oPfHQuq4ktTaQSji_NWpFUfhsv3xe88NwqDaKFmEaX_GxMushIS7FwcAqOCvwwnHb8JjoDsDzENQrxXwkmpfe6igEcg7vpr1pHZh37pBFu6xtic261ExGpDNjnh42uWqdRixwOT1F_Zcs83l7QVMzs-Biy7JecGI9NTO9h0CJdayfqAT7KD0i6FYapFwOam4-gPFJusZ9V1bKXcbSjm5Vl8IrS6gXwR3jXczWQdNjiZSQsJB9sVPnktJRqMUubjZyfzNDJr2Ir5je5f1SLfbYhoUyYoPP99mipwQ2sPKylMZ0M5jnjjs_7EfkeuT4vPWgzf5SSvteaop1-4yrvI2f5oCnk_xh-Mcjs_wNzzGvNjwodc8mp08_TDeaPFMwmGbnmAGi266vxotG1oMMWqaiyMp33AaPk0xGtuhkN_WXfx6gZasfOzIRS5HKKskUpVhd8QruOv5onHw3zPkYGk9EYMOpbm9jUJrBO5xELC8pxsfWVMKR9oZmiiZNZTezyMd0I4o1vT22XKSaIE0h76lnAVzX4TY0aF0-cvZ656bPaboxKmZGYwo4BGOfoxg78RKr1vweBfe2et0hh6wPJA3UPfr1XCoJhg7sqhGTyUIOOV6GSsAKN1-BbM1zzwmI9wt7PiE_Qe2HjkT9-EnZHTnT3Fbdqq-IdPMf-BfCosDP_KSQQRdxihrhOnUxf4lhtalI-yWuDTLCPNFQq_UoOhXPZEi_i-hF3mAaCj3xVUwBZrHm4eJqe_ySzh5NH31ONdeKYvuqLh_QdiEsHo6gGDAvojHMvMRDq2dAO-QmVWju_d9VxLd38zMUpvjHgPywFIuUQBlgpNpnYcqoLC8qMY0_oIrq038hdK5JUIHHdIJEtuQrJMs5ZmRHAu98ImAAkCrwZSHMAEKP9YWO9dfKT-S7Eflz2BdGPFXuVzX57ovnlJ7bxJ1DvKOV_Neqxa2S11sSYo8lRj-_aXGO4I6suNp42UxMgRCF1i7z0dx2o5cS80kMi24Bkv78FL3jsl5x_3a1GIll-vCpZMZs8cJf-tondKpu9ZiH-EMIMGEAkh3aKKbzW1ra_2rMzYTyJFQXvU09ebwCgJBLMIAYcvQJPQ30FlIs3aKbKG6raBoSFFIvEZtRdGX5gd6LGiOpCcF_RkOSsbpPi1eM2MWA6fKZNNlZjUCGOotCNc-YAJKiHyzOXV2w23RloWwKxOWmwG-tHCr8w_d0hKy-AkFQ7snvNtu7dlX_U06DtgKwC4-w6B4TUjRqjUrpgedOjyWZj2Ye56fUnQM0txwOg9kj7UoW4RJVaPGC7gzs3g5j9dx8Oh7eWbUlH25aK3YAWYaessM4C7YSM4ULcvWJSztDXoAuQA3uY8kSDW7L-dJhpJI2mjw__BodF90i-7FG_QvLeSQL7_VJWDwYcCNCOtYnfVgGVb6PIKZHroYN9J08d-auYZG-Hfw5GoB9D9KrL3HecrzLrT4Dkfds9cE98l9AexD3PRgF2jwlxD6TbszCUuwobDz5pIu7tm55J26ZbJQqL68glD7xpDHqhyH9G31M5Jce4tRtosYlLIA1Pv_TcwcCWwgzBNxLCOP4dBAHSOgSBtaiN1XycmgX5A2FVFwxOaZ2JSMlNxwXo8ifS9CaLjXe6HPKPRJ8Ixtng_Eaq3nuB6Zt31jyz0EE4Up4OC3-ax0NC33iI7Cun-zEGNRBCl62WqzSidxoY4tOxNsBV9Xl4z07V5N1GOQ8Vgap-Giffh39MA1W8b2GBt9EnT3f9rjIji33drNFIHti_o51p-gDmitdxyT0agVide5iNyEin_BDOM24hUSMuGv98FqF3McPFcX9Ad0ezPDeCHTycij-_SwtK_mLATsrksv9m6VAT-sCghPBu9eCtRgsZKKWN5BSQe_A0-zYESqG83EG1u9teD-vgveDiSypa2ZqkdABBAVS9OuMWZIO9lJm0cyVPEnYOqDCtJq1_LxIDHw6HUTVYr_t4uOc-PH_1CsjBrP6YyO_6dgp8bJ6kixXPJ2iy8g7NaRbDEH3YMnedzq3-T1pOsmp-q5TzUQkjsgcI-zDgl_vxuPAzpQQqCyejMfsGnwmIZSiFwC0jz8ocfGUItr0RzmOjs8wxdxXntXVVMt2WTbb1jTLXMCkXDQX2GiV9LUWnfMkVIvPUt8qf1S40MtCspi0z9HNrVNtdn1L1V10EsdCzbTXYidhbWHgQz6VgBR4hwk8Cb6pqX8XS74KFowoKBKsdz3bmp-GUGMDVzyMusWFReEawClFP1_h-PlpibUZ6r35xCN0c6-TlNtxjWyD-py6f96c6x11ZP-GKbZuoV4t7WxkS0TyII8RYa9IuE7ks1rQIIKBcioMB7aOgq2jv4NGW-_nRzesc4kp54U4cR_QYnj7DXQF5A1PbAlT-cqtoWgzeHq8YZNrI5Frkr_3Ckdf9yGGEBpFLrP_pDi3SQDFWVPTtVo9xVxXCyhigf8Wxpyhx2SlbQBUCrSMD3kkJtH4FwpO_tcUNUUfICRS9JHZ5XWRaO3IkjJRvkvgkukq4VSFPNfjJ-KwCkY_DEb8NkotaAlATUOlaaeUVF6DDdvABWg3LG5GInkGwcoxx3nQC2YP7-V93QoX5AaSM9bpbq2TkJThx2SAVLvwNrEBPjH8FdbaOlDnSspxW9W; _gid=GA1.2.1646110208.1535901870; ASP.NET_SessionId=iwvuurs00hln5v5ozdtc50ew; language=bg; __RequestVerificationToken=p3_KrsvPhjXAKj-mu8zv2mpYmczMv7WN3lJvV0KHRRZF4cjkN9Xw9DdFiVP2my_PME6EpUwcpAtRrW3n7FI6dlXLGNY1";

    static String sendRequest(String urlString) throws IOException {
        URL url = new URL(urlString);
        HttpURLConnection conn = (HttpURLConnection) url.openConnection();
        conn.setRequestMethod("GET");
        conn.setRequestProperty("Cookie", softuniAdminCookie);

        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(conn.getInputStream()));
        StringBuffer response = new StringBuffer();

        String line;
        while ((line = bufferedReader.readLine()) != null) {
            response.append(line);
        }
        bufferedReader.close();
        return response.toString();
    }
}
