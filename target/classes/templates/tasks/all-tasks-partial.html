<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<div class="row">
    <div class="col-md-6 task-panel" th:each="task: ${tasks}" th:style="${#dates.createNow() > task.dueDate} ? 'background: lightyellow'">
        <div class="panel-group">
            <div class="panel-heading">
                <div class="col-md-6">
                    <div th:if="${task.type == 'EXAM'}">
                        <img src="/img/tasks/exam.png" class="img-responsive task-image">
                    </div>
                    <div th:if="${task.type == 'MENTOR'}">
                        <img src="/img/tasks/mentor.png" class="img-responsive task-image">
                    </div>
                    <div th:if="${task.type == 'ASSESSMENT'}">
                        <img src="/img/tasks/assessment.png" class="img-responsive task-image">
                    </div>
                </div>
                <div class="col-md-6">
                    <p th:text="${task.title}"></p>
                    <p th:text="${#dates.format(task.dueDate, 'dd-MM-yyyy')}"></p>
                </div>
                <div class="col-md-6">
                    <h4 class="panel-title">
                        <a class="see-more" data-toggle="collapse"
                           th:href="@{'#collapse' + ${task.id}}">See more</a>
                    </h4>
                    <div th:id="'collapse' + ${task.id}" id="collapse1" class="panel-collapse collapse">
                        <ul class="list-group">
                            <li class="list-group-item" th:text="'Cost: ' + ${task.paymentCost}"></li>
                            <p>Requirements:</p>
                            <li th:if="${task.taskRequirements.size() != 0}" th:each ="tr : ${task.taskRequirements}" th:text="${tr.title}"></li>
                            <li th:if="${task.taskRequirements.size() == 0}" >None</li>
                        </ul>
                        <div class="panel-footer">Footer</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row" th:include="~{fragments/pagination-panels :: all-tasks-pagination}"></div>